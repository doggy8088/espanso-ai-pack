# ç‰ˆæœ¬ç®¡ç†æŒ‡å—

æœ¬æ–‡ä»¶èªªæ˜ Espanso AI Pack çš„ç‰ˆæœ¬ç®¡ç†æ©Ÿåˆ¶ã€‚

---

## ğŸ“Œ ç‰ˆæœ¬è™Ÿç³»çµ±

æœ¬å°ˆæ¡ˆéµå¾ª [Semantic Versioning 2.0.0](https://semver.org/)ï¼š

```
MAJOR.MINOR.PATCH
```

- **MAJOR**ï¼ˆä¸»ç‰ˆæœ¬ï¼‰ï¼šä¸ç›¸å®¹çš„ API è®Šæ›´
- **MINOR**ï¼ˆæ¬¡ç‰ˆæœ¬ï¼‰ï¼šå‘ä¸‹ç›¸å®¹çš„åŠŸèƒ½æ–°å¢
- **PATCH**ï¼ˆä¿®è¨‚ç‰ˆï¼‰ï¼šå‘ä¸‹ç›¸å®¹çš„ bug ä¿®å¾©

### ç¯„ä¾‹

- `0.1.0` â†’ `0.2.0`ï¼šæ–°å¢æç¤ºè©
- `0.1.0` â†’ `0.1.1`ï¼šä¿®æ­£æç¤ºè©ä¸­çš„éŒ¯å­—
- `0.9.0` â†’ `1.0.0`ï¼šé‡å¤§è®Šæ›´ï¼Œå¯èƒ½ç ´å£ç›¸å®¹æ€§

---

## ğŸ”„ è‡ªå‹•ç‰ˆæœ¬åŒæ­¥

### å–®ä¸€ä¾†æºåŸå‰‡

æœ¬å°ˆæ¡ˆçš„ç‰ˆæœ¬è™Ÿçµ±ä¸€ç”± **`package.json`** ç®¡ç†ï¼Œå»ºç½®æ™‚æœƒè‡ªå‹•åŒæ­¥åˆ° `_manifest.yml`ã€‚

```
package.json (version) 
    â†“ å»ºç½®æ™‚è‡ªå‹•åŒæ­¥
_manifest.yml (version)
```

### é‹ä½œæ–¹å¼

ç•¶æ‚¨åŸ·è¡Œ `bun run build` æ™‚ï¼š

1. è®€å– `package.json` çš„ `version` æ¬„ä½
2. æª¢æŸ¥ `_manifest.yml` çš„ `version` æ˜¯å¦ä¸€è‡´
3. å¦‚æœä¸ä¸€è‡´ï¼Œè‡ªå‹•æ›´æ–° `_manifest.yml`
4. ç¹¼çºŒåŸ·è¡Œå¥—ä»¶å»ºç½®

### å¯¦éš›ç¯„ä¾‹

```bash
# ä¿®æ”¹ package.json çš„ç‰ˆæœ¬è™Ÿ
# "version": "0.1.0" â†’ "version": "0.2.0"

# åŸ·è¡Œå»ºç½®
bun run build

# è¼¸å‡ºï¼š
# ğŸ”„ å·²å°‡ _manifest.yml ç‰ˆæœ¬è™Ÿæ›´æ–°ç‚º: 0.2.0
# âœ¨ å»ºç½®å®Œæˆï¼
```

---

## ğŸ“ å¦‚ä½•æ›´æ–°ç‰ˆæœ¬

### æ­¥é©Ÿä¸€ï¼šä¿®æ”¹ package.json

åªéœ€è¦ä¿®æ”¹ `package.json` ä¸­çš„ `version` æ¬„ä½ï¼š

```json
{
  "name": "espanso-ai-pack",
  "version": "0.2.0",  // ğŸ‘ˆ åªéœ€ä¿®æ”¹é€™è£¡
  "description": "Espanso æç¤ºè©å¥—ä»¶..."
}
```

### æ­¥é©ŸäºŒï¼šå»ºç½®å¥—ä»¶

```bash
bun run build
```

å»ºç½®è…³æœ¬æœƒè‡ªå‹•ï¼š
- âœ… åŒæ­¥ç‰ˆæœ¬è™Ÿåˆ° `_manifest.yml`
- âœ… å»ºç½® `dist/package.yml`
- âœ… æ›´æ–° `dist/index.html` ä¸­çš„ç‰ˆæœ¬é¡¯ç¤º

### æ­¥é©Ÿä¸‰ï¼šæäº¤è®Šæ›´

```bash
git add package.json _manifest.yml dist/
git commit -m "chore: bump version to 0.2.0"
git push
```

### æ­¥é©Ÿå››ï¼šå»ºç«‹ Releaseï¼ˆå¯é¸ï¼‰

å¦‚æœè¦ç™¼ä½ˆæ­£å¼ç‰ˆæœ¬ï¼Œæ‰“ä¸Š Git tagï¼š

```bash
# å»ºç«‹ tag
git tag v0.2.0

# æ¨é€ tag
git push origin v0.2.0
```

æ¨é€ tag å¾Œï¼ŒGitHub Actions æœƒè‡ªå‹•ï¼š
- âœ… å»ºç½®å¥—ä»¶
- âœ… å»ºç«‹ GitHub Release
- âœ… é™„ä¸Šä¸‹è¼‰é€£çµ

---

## ğŸ¤– CI/CD è‡ªå‹•åŒ–

### è‡ªå‹•è§¸ç™¼æ™‚æ©Ÿ

**æ¯æ¬¡ push åˆ° main**ï¼š
- é©—è­‰æç¤ºè©æ ¼å¼
- é©—è­‰ Espanso å¥—ä»¶è¦æ ¼
- å»ºç½®å¥—ä»¶
- éƒ¨ç½²åˆ° GitHub Pages

**push tag `v*` æ™‚**ï¼š
- åŸ·è¡Œä¸Šè¿°æ‰€æœ‰æ­¥é©Ÿ
- é¡å¤–å»ºç«‹ GitHub Release
- é™„ä¸Š `package.yml` ä¸‹è¼‰é€£çµ

### ç‰ˆæœ¬è™Ÿé©—è­‰

CI æœƒé©—è­‰ï¼š
- `_manifest.yml` çš„ç‰ˆæœ¬è™Ÿæ ¼å¼ï¼ˆMAJOR.MINOR.PATCHï¼‰
- `package.json` çš„ç‰ˆæœ¬è™Ÿæ ¼å¼
- å…©è€…æ˜¯å¦ä¸€è‡´ï¼ˆå»ºç½®å¾Œï¼‰

---

## ğŸ“Š ç‰ˆæœ¬æ­·å²è¿½è¹¤

### æŸ¥çœ‹ç‰ˆæœ¬è³‡è¨Š

```bash
# æŸ¥çœ‹ç›®å‰ç‰ˆæœ¬
cat package.json | grep version

# æŸ¥çœ‹ Git tags
git tag

# æŸ¥çœ‹ç‰¹å®šç‰ˆæœ¬çš„è®Šæ›´
git show v0.1.0
```

### GitHub Releases

æ‰€æœ‰æ­£å¼ç‰ˆæœ¬éƒ½æœƒç™¼ä½ˆåˆ° [Releases](https://github.com/doggy8088/espanso-ai-pack/releases) é é¢ï¼ŒåŒ…å«ï¼š
- ç‰ˆæœ¬è™Ÿ
- æç¤ºè©åˆ—è¡¨
- ä¸‹è¼‰é€£çµ
- è®Šæ›´èªªæ˜

---

## ğŸ¯ æœ€ä½³å¯¦è¸

### âœ… å»ºè­°åšæ³•

1. **åªä¿®æ”¹ package.json**
   - ä¸è¦æ‰‹å‹•ä¿®æ”¹ `_manifest.yml` çš„ç‰ˆæœ¬è™Ÿ
   - è®“å»ºç½®è…³æœ¬è‡ªå‹•åŒæ­¥

2. **éµå¾ª SemVer**
   - æ–°å¢æç¤ºè©ï¼šMINOR +1
   - ä¿®æ­£éŒ¯èª¤ï¼šPATCH +1
   - é‡å¤§è®Šæ›´ï¼šMAJOR +1

3. **å»ºç½®å‰æ¸¬è©¦**
   ```bash
   bun run validate  # å…ˆé©—è­‰
   bun run build     # å†å»ºç½®
   ```

4. **ä½¿ç”¨ Git tags**
   - æ­£å¼ç‰ˆæœ¬æ‰“ tagï¼š`v0.1.0`
   - é–‹ç™¼ç‰ˆæœ¬å¯ä»¥ä¸æ‰“

### âŒ é¿å…åšæ³•

1. **ä¸è¦**æ‰‹å‹•ä¿®æ”¹ `_manifest.yml` çš„ç‰ˆæœ¬è™Ÿ
2. **ä¸è¦**è·³éå»ºç½®ç›´æ¥æäº¤ `_manifest.yml`
3. **ä¸è¦**åœ¨ç‰ˆæœ¬è™Ÿä¸­ä½¿ç”¨éæ•¸å­—å­—å…ƒï¼ˆå¦‚ `v0.1.0-beta`ï¼‰

---

## ğŸ”§ æ•…éšœæ’é™¤

### ç‰ˆæœ¬è™ŸæœªåŒæ­¥

**å•é¡Œ**ï¼š`_manifest.yml` çš„ç‰ˆæœ¬è™Ÿæ²’æœ‰æ›´æ–°

**è§£æ±ºæ–¹å¼**ï¼š
```bash
# å¼·åˆ¶é‡æ–°å»ºç½®
bun run build

# æª¢æŸ¥ç‰ˆæœ¬è™Ÿ
grep version package.json
grep version _manifest.yml
```

### å»ºç½®å¤±æ•—

**å•é¡Œ**ï¼šå»ºç½®æ™‚å‡ºç¾éŒ¯èª¤

**è§£æ±ºæ–¹å¼**ï¼š
```bash
# æª¢æŸ¥ package.json æ ¼å¼
cat package.json

# ç¢ºèªç‰ˆæœ¬è™Ÿæ ¼å¼æ­£ç¢ºï¼ˆMAJOR.MINOR.PATCHï¼‰
# æ­£ç¢ºï¼š0.1.0, 1.2.3
# éŒ¯èª¤ï¼šv0.1.0, 0.1, 1.2.3-beta
```

---

## ğŸ“š ç›¸é—œè³‡æº

- [Semantic Versioning è¦ç¯„](https://semver.org/)
- [GitHub Releases æ–‡ä»¶](https://docs.github.com/en/repositories/releasing-projects-on-github)
- [æœ¬å°ˆæ¡ˆå»ºç½®è…³æœ¬](../scripts/build.ts)

---

**æœ‰å•é¡Œï¼Ÿ** è«‹åˆ° [Issues](../../issues) æå•ã€‚
